Define full point to point network

App->Device
Device->AWS
App->AWS
Device->App


All Devices listen on all_devices
All Apps listen on all_apps
Each entity listens on {client_id}
AWS Lambda Rule called by apps and devices

App->AllDevices
Query

App->Device
UpdateDeviceInfo
UpdateDeviceState
AddSchedule
DeleteSchedule

App->AWS
GetDevices

Device->AWS
UpdateDeviceInfo

Device->AllApps
Connected
UpdateDeviceState


AWS Lambda Design
On disconnect -> Update last seen date/time
On update -> Update full device info
On get -> Send all device infos

DynamoDB - Store Minimal JSON instead of expanding
    cid is primary key